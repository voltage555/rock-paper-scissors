<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="playerWeapon-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    body {
        background: purple;
    }
    </style>
</head>
<body>
    <script>
    let result,
        playerScore = 0,
        computerScore = 0;

    var weapon = {
        rock: 'rock',
        paper: 'paper',
        scissors: 'scissors'
    }
    function computerPlay() {
        let option = Math.floor(Math.random() * Object.keys(weapon).length + 1)
        switch (option) {
            case 1:
                return weapon.rock;
                break;
            case 2:
                return weapon.paper;
                break;
            case 3:
                return weapon.scissors;
        }
    }

    function playRound(playerSelection, computerSelection) {
        let playerWeapon = playerSelection.toLowerCase();
        let computerWeapon = computerSelection.toLowerCase();
        // player choice = rock
        if (playerWeapon === weapon.rock) {
            if (computerWeapon === weapon.paper) {
                result = "You lose! Paper beats rock.";
                computerScore += 1;
            }
            else if (computerWeapon === weapon.scissors) {
                result = "You win! Rock beats scissors.";
                playerScore += 1;
            }
            else if (computerWeapon === weapon.rock) {
                result = "Draw! Rock can't beat rock.";
            }
        }
        // player choice = paper
        else if (playerWeapon === weapon.paper) {
            if (computerWeapon === weapon.scissors) {
                result = "You lose! Scissors beat paper.";
                computerScore += 1;
            }
            else if (computerWeapon === weapon.rock) {
                result = "You win! Paper beats rock.";
                playerScore += 1;
            }
            else if (computerWeapon === weapon.paper) {
                result = "Draw! Paper can't beat paper.";
            }
        }
        // player choice = scissors
        else if (playerWeapon === weapon.scissors) {
            if (computerWeapon === weapon.rock) {
                result = "You lose! Rock beats scissors.";
                computerScore += 1;
            }
            else if (computerWeapon === weapon.paper) {
                result = "You win! Scissors beat paper.";
                playerScore += 1;
                
            }
            else if (computerWeapon === weapon.scissors) {
                result = "Draw! Scissors can't beat scissors.";
            }
        }
        else {
            return "unknown parameteres";
        }

    }

    function gameReset() {
        playerScore = 0;
        computerScore = 0;
    }
    
    function game() {

        for(var i = 0; i < 100; i++) {
            // ask player for weapon of choice
            let playerSelection = prompt("Choose your weapon", "");
            // generate computer choice
            let compSlection = computerPlay();
            // start a round
            playRound(playerSelection, compSlection);
            
            if (playerScore === 5) {
                console.log("Final score: "+ playerScore + "-" + computerScore)
                gameReset()
                return "You won! You were first to score 5 points!";
            }
            else if (computerScore === 5) {
                console.log("Final score: "+ playerScore + "-" + computerScore)
                gameReset()
                return "You lost! Computer scored 5 points before you!";
            }
            // log results of the round played
            console.log(result);
            console.log("Score: "+ playerScore + "-" + computerScore)
        }
    }
    </script>
</body>
</html>